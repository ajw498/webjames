# Makefile for WebJames the web server
#
# This has been written for use with AMU 5.16 or later, or GNU Make
# It should work with other make programs, but you may need to replace the
# include lines with the contents of the relevant files

# Build type
#
# Possible files:
# build.normal    normal build, using Norcroft cc
# build.debug     include debug information for DDT
# build.memcheck  enable memory access checking with MemCheck
# build.gcc       compile with gcc and link with UnixLib - You must use this (or cross) build if you wish to link with PHP
# build/cross     cross compile with the gccsdk

include build.normal

# Compile time options
#
# Possible flags:
# LOG             enable logging
# CGISCRIPT       enable the cgi-script handler
# WEBJAMESSCRIPT  enable the webjames-script handler
# SSI             enable the server-parsed handler
# SENDASIS        enable the send-as-is handler
# CONTENT         enable content negotiation
FLAGS = -DLOG -DCGISCRIPT -DSSI -DWEBJAMESSCRIPT -DSENDASIS -DCONTENT

# Include other files, these should not need to be changed
# build.php will be empty unless you are linking with PHP
include build.php
include build.common

# Dynamic dependencies:
o.snprintf: c.snprintf C:h.stdio C:h.ctype C:h.stdarg C:h.string C:h.stdlib C:h.math
o.wjstring: c.wjstring C:h.stdio C:h.string C:h.stdarg h.wjstring C:h.stddef C:h.time h.stat
o.main: c.main OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.main h.stat
o.webjames: c.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.osmodule OSLib:oslib.h.osfscontrol OSLib:oslib.h.fileswitch OSLib:oslib.h.osfile OSLib:oslib.h.territory h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.wjstring h.cache h.webjames h.ip OSLib:oslib.h.socket h.stat h.report h.content h.write h.read h.openclose h.webjames h.attributes C:regex.h.regex h.resolve h.handler h.content
o.ip: c.ip C:h.kernel OSLib:oslib.h.socket OSLib:oslib.h.types OSLib:oslib.h.os h.ip OSLib:oslib.h.socket h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket
o.stat: c.stat C:h.kernel OSLib:oslib.h.os OSLib:oslib.h.types h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.wjstring h.stat h.ip OSLib:oslib.h.socket
o.datetime: c.datetime OSLib:oslib.h.territory OSLib:oslib.h.types OSLib:oslib.h.os h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.stat h.datetime
o.report: c.report h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.wjstring h.cache h.webjames h.stat h.datetime h.openclose h.webjames h.report h.content h.write h.attributes C:regex.h.regex h.handler
o.write: c.write OSLib:oslib.h.osfile OSLib:oslib.h.types OSLib:oslib.h.os OSLib:oslib.h.fileswitch OSLib:oslib.h.osgbpb OSLib:oslib.h.osfscontrol OSLib:oslib.h.mimemap h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.wjstring h.cache h.webjames h.ip OSLib:oslib.h.socket h.datetime h.openclose h.webjames h.stat h.attributes C:regex.h.regex h.report h.content h.write h.handler h.content
o.openclose: c.openclose h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.cache h.webjames h.ip OSLib:oslib.h.socket h.attributes C:regex.h.regex h.stat h.openclose h.webjames h.resolve
o.read: c.read h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.wjstring h.attributes C:regex.h.regex h.stat h.ip OSLib:oslib.h.socket h.datetime h.read h.report h.content h.write h.coding
o.cache: c.cache OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font OSLib:oslib.h.fileswitch OSLib:oslib.h.osfile OSLib:oslib.h.osfscontrol h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.wjstring h.datetime h.cache h.webjames h.write h.cacheheap h.stat
o.coding: c.coding h.coding
o.attributes: c.attributes h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.wjstring h.write h.attributes C:regex.h.regex h.stat h.handler h.content OSLib:oslib.h.osfscontrol OSLib:oslib.h.fileswitch
o.resolve: c.resolve C:h.kernel OSLib:oslib.h.socket OSLib:oslib.h.types OSLib:oslib.h.os h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.wjstring h.stat h.resolve h.ip OSLib:oslib.h.socket
o.cacheheap: c.cacheheap OSLib:oslib.h.osheap OSLib:oslib.h.types OSLib:oslib.h.os h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.stat h.cacheheap
o.handler: c.handler h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.handler h.report h.content h.stat h.staticcontent h.sendasis h.cgiscript h.webjamesscript h.serverparsed
o.staticcontent: c.staticcontent h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.datetime h.openclose h.webjames h.ip OSLib:oslib.h.socket h.stat h.report h.content h.cache h.webjames h.staticcontent
o.webjamesscript: c.webjamesscript OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.osfile OSLib:oslib.h.fileswitch OSLib:oslib.h.osfscontrol OSLib:oslib.h.osmodule OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.wjstring h.webjamesscript h.openclose h.webjames h.report h.content h.stat h.ip OSLib:oslib.h.socket h.write
o.cgiscript: c.cgiscript OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.osfile OSLib:oslib.h.fileswitch OSLib:oslib.h.osfscontrol OSLib:oslib.h.osmodule OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.wjstring h.datetime h.cgiscript h.openclose h.webjames h.report h.content h.stat h.ip OSLib:oslib.h.socket h.write h.handler
o.sendasis: c.sendasis h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.stat h.report h.content h.datetime h.cache h.webjames h.sendasis
o.content: c.content OSLib:oslib.h.osfscontrol OSLib:oslib.h.types OSLib:oslib.h.os OSLib:oslib.h.fileswitch OSLib:oslib.h.osgbpb OSLib:oslib.h.mimemap h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket h.stat h.wjstring h.write h.report h.content h.content
o.serverparsed: c.serverparsed C:h.kernel C:regex.h.regex h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket h.wjstring h.ip OSLib:oslib.h.socket h.openclose h.webjames h.write h.stat h.datetime h.attributes C:regex.h.regex h.report h.content h.cache h.webjames h.handler h.staticcontent h.cgiscript h.serverparsed
