# Makefile for WebJames the web server
#
# This has been written for use with AMU 5.16 or later, or GNU Make
# It should work with other make programs, but you may need to replace the
# include lines with the contents of the relevant files

# Build type
#
# Possible files:
# build.normal    normal build, using Norcroft cc
# build.debug     include debug information for DDT
# build.memcheck  enable memory access checking with MemCheck
# build.gcc       compile with gcc and link with UnixLib - You must use this (or cross) build if you wish to link with PHP
# build/cross     cross compile with the gccsdk

include build.memcheck

# Compile time options
#
# Possible flags:
# LOG             enable logging
# CGISCRIPT       enable the cgi-script handler
# WEBJAMESSCRIPT  enable the webjames-script handler
# SSI             enable the server-parsed handler
# SENDASIS        enable the send-as-is handler
# CONTENT         enable content negotiation
FLAGS = -DLOG -DCGISCRIPT -DSSI -DWEBJAMESSCRIPT -DSENDASIS -DCONTENT

# Include other files, these should not need to be changed
# build.php will be empty unless you are linking with PHP
include build.php
include build.common

# Dynamic dependencies:
o.snprintf: c.snprintf C:h.stdio C:h.ctype C:h.stdarg C:h.string C:h.stdlib C:h.math
o.main: c.main C:h.time C:h.ctype C:h.stdio C:h.string C:h.stdlib OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.main h.stat MemCheck:h.MemCheck C:h.stddef C:h.stdio C:h.stdarg
o.webjames: c.webjames C:h.stdio C:h.stdlib C:h.stdarg C:h.string C:h.ctype C:h.time OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.osmodule OSLib:oslib.h.osfscontrol OSLib:oslib.h.fileswitch OSLib:oslib.h.osfile OSLib:oslib.h.territory h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.cache h.webjames h.ip OSLib:oslib.h.socket h.stat h.report h.content h.write h.read h.openclose h.webjames h.attributes C:regex.h.regex h.resolve h.handler h.content
o.wjstring: c.wjstring C:h.stdio C:h.string C:h.stdarg h.wjstring C:h.stddef C:h.time h.stat
o.ip: c.ip C:h.stdio C:h.string C:h.stdlib C:h.time C:h.kernel OSLib:oslib.h.socket OSLib:oslib.h.types OSLib:oslib.h.os h.ip OSLib:oslib.h.socket h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg
o.stat: c.stat C:h.time C:h.stdio C:h.stdlib C:h.string C:h.kernel OSLib:oslib.h.os OSLib:oslib.h.types h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.stat h.ip OSLib:oslib.h.socket
o.datetime: c.datetime C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time OSLib:oslib.h.territory OSLib:oslib.h.types OSLib:oslib.h.os h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.stat h.datetime
o.report: c.report C:h.stdio C:h.string C:h.time C:h.stdlib h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.cache h.webjames h.stat h.datetime h.openclose h.webjames h.report h.content h.write h.attributes C:regex.h.regex h.handler
o.write: c.write C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time OSLib:oslib.h.osfile OSLib:oslib.h.types OSLib:oslib.h.os OSLib:oslib.h.fileswitch OSLib:oslib.h.osgbpb OSLib:oslib.h.osfscontrol OSLib:oslib.h.mimemap h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.cache h.webjames h.ip OSLib:oslib.h.socket h.datetime h.openclose h.webjames h.stat h.attributes C:regex.h.regex h.report h.content h.write h.handler h.content
o.openclose: c.openclose C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.cache h.webjames h.ip OSLib:oslib.h.socket h.attributes C:regex.h.regex h.stat h.openclose h.webjames h.resolve
o.read: c.read C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.attributes C:regex.h.regex h.stat h.ip OSLib:oslib.h.socket h.datetime h.read h.report h.content h.write h.coding
o.cache: c.cache MemCheck:h.MemCheck C:h.stddef C:h.stdio C:h.stdarg C:h.stdio C:h.stdlib C:h.string C:h.time OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font OSLib:oslib.h.fileswitch OSLib:oslib.h.osfile OSLib:oslib.h.osfscontrol h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.datetime h.cache h.webjames h.write h.cacheheap h.stat
o.coding: c.coding h.coding
o.attributes: c.attributes C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.write h.attributes C:regex.h.regex h.stat h.handler h.content OSLib:oslib.h.osfscontrol OSLib:oslib.h.fileswitch
o.resolve: c.resolve C:h.string C:h.stdio C:h.time C:h.kernel OSLib:oslib.h.socket OSLib:oslib.h.types OSLib:oslib.h.os h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.stat h.resolve h.ip OSLib:oslib.h.socket MemCheck:h.MemCheck C:h.stddef C:h.stdio C:h.stdarg
o.cacheheap: c.cacheheap C:h.stdio C:h.time OSLib:oslib.h.osheap OSLib:oslib.h.types OSLib:oslib.h.os h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.stat h.cacheheap
o.handler: c.handler C:h.stdio C:h.stdlib C:h.string C:h.time h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.handler h.report h.content h.stat h.staticcontent h.sendasis h.cgiscript h.webjamesscript h.serverparsed
o.staticcontent: c.staticcontent C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.datetime h.openclose h.webjames h.ip OSLib:oslib.h.socket h.stat h.report h.content h.cache h.webjames h.staticcontent
o.webjamesscript: c.webjamesscript C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.osfile OSLib:oslib.h.fileswitch OSLib:oslib.h.osfscontrol OSLib:oslib.h.osmodule OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font MemCheck:h.MemCheck C:h.stddef C:h.stdio C:h.stdarg h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.webjamesscript h.openclose h.webjames h.report h.content h.stat h.ip OSLib:oslib.h.socket h.write
o.cgiscript: c.cgiscript C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.osfile OSLib:oslib.h.fileswitch OSLib:oslib.h.osfscontrol OSLib:oslib.h.osmodule OSLib:oslib.h.wimp OSLib:oslib.h.osspriteop OSLib:oslib.h.font h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.datetime h.cgiscript h.openclose h.webjames h.report h.content h.stat h.ip OSLib:oslib.h.socket h.write h.handler
o.sendasis: c.sendasis C:h.stdio C:h.stdlib C:h.time h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.stat h.report h.content h.datetime h.cache h.webjames h.sendasis
o.content: c.content C:h.stdio C:h.stdlib C:h.string C:h.time C:h.ctype OSLib:oslib.h.osfscontrol OSLib:oslib.h.types OSLib:oslib.h.os OSLib:oslib.h.fileswitch OSLib:oslib.h.osgbpb OSLib:oslib.h.mimemap h.webjames OSLib:oslib.h.os OSLib:oslib.h.socket C:h.stdarg h.stat h.wjstring C:h.stddef h.write h.report h.content h.content
o.serverparsed: c.serverparsed C:h.stdio C:h.stdlib C:h.string C:h.ctype C:h.time C:h.kernel C:regex.h.regex h.webjames OSLib:oslib.h.os OSLib:oslib.h.types OSLib:oslib.h.socket C:h.stdarg h.wjstring C:h.stddef h.ip OSLib:oslib.h.socket h.openclose h.webjames h.write h.stat h.datetime h.attributes C:regex.h.regex h.report h.content h.cache h.webjames h.handler h.staticcontent h.cgiscript h.serverparsed
